

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lesson 4: tile-based processing &mdash; pyxccd  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/custom.css" />

  
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Lesson 5: state analysis" href="5_state_analysis_greenning%26precipitation_coarse.html" />
    <link rel="prev" title="Lesson 3: flexible mode" href="3_flexible_inputs_crop_sentinel2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pyxccd
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorial_en.html">Pyxccd Tutorial (English)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="0_intro.html">Lesson 0: introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_break_detection_fire_hls.html">Lesson 1: detecting disturbances using COLD and S-CCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_parameter_selection_insect_landsat.html">Lesson 2: parameter specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_flexible_inputs_crop_sentinel2.html">Lesson 3: flexible mode</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Lesson 4: tile-based processing</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-0-preparation">Step 0: preparation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#install-pyxccd">1. Install Pyxccd</a></li>
<li class="toctree-l4"><a class="reference internal" href="#prepare-hls-images">2. Prepare HLS images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-file">3. Configuration File</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step-1-image-preprocessing">Step 1: image preprocessing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#procedure">Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#output">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step-2-break-detection">Step 2: break detection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sccd-algorithm">SCCD Algorithm:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cold-algorithm">COLD Algorithm:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#step-3-disturbance-map-generation">Step 3: disturbance map generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">Purpose</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Procedure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">Parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Output</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#result-examples">Result examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="5_state_analysis_greenning%26precipitation_coarse.html">Lesson 5: state analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="6_anomalies_break_drought_gosif.html">Lesson 6: anomalies vs breaks</a></li>
<li class="toctree-l2"><a class="reference internal" href="7_near_realtime_logging_hls.html">Lesson 7: near real-time monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="8_gapfilling_general_FY3B.html">Lesson 8: break-aware gap filling</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_ch.html">Pyxccd指南 (Chinese)</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/pyxccd.html">Pyxccd API reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyxccd</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="tutorial_en.html">Pyxccd Tutorial (English)</a></li>
      <li class="breadcrumb-item active">Lesson 4: tile-based processing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/4_tile_processing_general_hls.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lesson-4-tile-based-processing">
<h1>Lesson 4: tile-based processing<a class="headerlink" href="#lesson-4-tile-based-processing" title="Link to this heading">¶</a></h1>
<p><strong>Authors: Yingchu Hu, Su Ye</strong></p>
<p><strong>Time series datasets: Harmonized Landsat-Sentinel (HLS) datasets</strong></p>
<p><strong>Application: General disturbance mapping, Hangzhou, China</strong></p>
<p>This tutorial will guide you through processing HLS imagery data using
pyxccd to generate annual disturbance maps, recent disturbance maps, and
first disturbance maps. The workflow consists of three main steps.</p>
<section id="step-0-preparation">
<h2>Step 0: preparation<a class="headerlink" href="#step-0-preparation" title="Link to this heading">¶</a></h2>
<section id="install-pyxccd">
<h3>1. Install Pyxccd<a class="headerlink" href="#install-pyxccd" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pyxccd</span>
</pre></div>
</div>
</section>
<section id="prepare-hls-images">
<h3>2. Prepare HLS images<a class="headerlink" href="#prepare-hls-images" title="Link to this heading">¶</a></h3>
<div class="line-block">
<div class="line">Prepare downloaded HLS files with the following structure (example
contains 6 years of HLS data from 2019-2024):</div>
<div class="line">Quark Drive download link:
<a class="reference external" href="https://pan.quark.cn/s/f6456bf1ad27?pwd=FxtU">https://pan.quark.cn/s/f6456bf1ad27?pwd=FxtU</a></div>
<div class="line">Extraction code: FxtU</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>HLS_root_directory/
└── Tile_ID (e.g., 51RTP)/
    └── HLS_daily_folder (e.g., HLS.S30.T51RTP.2021238T023551.v2.0)
        └── HLS_image_files (e.g., HLS.L30.T51RTP.2021238T023146.v2.0.B02.tif)
</pre></div>
</div>
</section>
<section id="configuration-file">
<h3>3. Configuration File<a class="headerlink" href="#configuration-file" title="Link to this heading">¶</a></h3>
<p>Prepare <code class="docutils literal notranslate"><span class="pre">config_hls.yaml</span></code> with adjustable block size parameters
(example uses 30×30 blocks):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">DATASETINFO</span><span class="p">:</span>
<span class="w">  </span><span class="nt">n_rows</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3660</span>
<span class="w">  </span><span class="nt">n_cols</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3660</span>
<span class="w">  </span><span class="nt">n_block_x</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
<span class="w">  </span><span class="nt">n_block_y</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30</span>
</pre></div>
</div>
</section>
</section>
<section id="step-1-image-preprocessing">
<h2>Step 1: image preprocessing<a class="headerlink" href="#step-1-image-preprocessing" title="Link to this heading">¶</a></h2>
<section id="purpose">
<h3>Purpose<a class="headerlink" href="#purpose" title="Link to this heading">¶</a></h3>
<p>Stack HLS images in time series for subsequent change detection.</p>
</section>
<section id="procedure">
<h3>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Adjust the configuration in config.yaml as needed</p></li>
<li><p>CD to the folder <code class="docutils literal notranslate"><span class="pre">pyxccd\tutorials\notebooks</span></code> and run stacking
script:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>prepare_ard.py<span class="w"> </span>--source_path<span class="w"> </span>/path/to/HLS_root_directory/Tile_ID<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--out_path<span class="w"> </span>/path/to/stack/data<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--low_date_bound<span class="w"> </span><span class="m">2019</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--upp_date_bound<span class="w"> </span><span class="m">2024</span>-12-31<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
</section>
<section id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">source_path</span><span class="p">:</span> <span class="n">HLS</span> <span class="n">data</span> <span class="n">directory</span> <span class="p">(</span><span class="n">HLS</span><span class="o">/</span><span class="mi">51</span><span class="n">RTP</span><span class="p">)</span>
<span class="o">--</span><span class="n">yaml_path</span><span class="p">:</span> <span class="n">Configuration</span> <span class="n">file</span> <span class="n">path</span>
<span class="o">--</span><span class="n">out_path</span><span class="p">:</span> <span class="n">Output</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">stacked</span> <span class="n">data</span>
<span class="o">--</span><span class="n">low_date_bound</span><span class="p">:</span> <span class="n">Start</span> <span class="n">date</span> <span class="p">(</span><span class="n">YYYY</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">DD</span><span class="p">)</span>
<span class="o">--</span><span class="n">upp_date_bound</span><span class="p">:</span> <span class="n">End</span> <span class="n">date</span> <span class="p">(</span><span class="n">YYYY</span><span class="o">-</span><span class="n">MM</span><span class="o">-</span><span class="n">DD</span><span class="p">)</span>
<span class="o">--</span><span class="n">n_cores</span><span class="p">:</span> <span class="n">The</span> <span class="n">total</span> <span class="n">cores</span> <span class="n">assigned</span>
</pre></div>
</div>
</section>
<section id="output">
<h3>Output<a class="headerlink" href="#output" title="Link to this heading">¶</a></h3>
<p>The output directory (<code class="docutils literal notranslate"><span class="pre">stack</span></code> by default) will contain
<code class="docutils literal notranslate"><span class="pre">{TileID}_stack</span></code> folders with block-organized stacked data for each
tile.</p>
</section>
</section>
<section id="step-2-break-detection">
<h2>Step 2: break detection<a class="headerlink" href="#step-2-break-detection" title="Link to this heading">¶</a></h2>
<section id="sccd-algorithm">
<h3>SCCD Algorithm:<a class="headerlink" href="#sccd-algorithm" title="Link to this heading">¶</a></h3>
<section id="id1">
<h4>Purpose<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<p>Detect breaks at a per-pixel level using pyxccd’s SCCD algorithm.</p>
</section>
<section id="id2">
<h4>Procedure<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>Complete the stacking process (Step 1)</p></li>
<li><p>Run SCCD detection script:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>tile_processing.py<span class="w"> </span>--method<span class="w"> </span>SCCDOFFLINE<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--stack_path<span class="w"> </span>/path/to/stack/data<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--result_path<span class="w"> </span>/path/to/sccd_results<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--low_datebound<span class="w"> </span><span class="m">2019</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--upper_datebound<span class="w"> </span><span class="m">2024</span>-12-31<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
</section>
<section id="id3">
<h4>Parameters<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">stack_path</span><span class="p">:</span> <span class="n">Stacked</span> <span class="n">data</span> <span class="n">directory</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Step</span> <span class="mi">1</span>
<span class="o">--</span><span class="n">result_path</span><span class="p">:</span> <span class="n">Output</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">SCCD</span> <span class="n">results</span>
<span class="p">(</span><span class="n">Other</span> <span class="n">parameters</span> <span class="n">same</span> <span class="k">as</span> <span class="n">Step</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id4">
<h4>Output<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<p>The output directory (<code class="docutils literal notranslate"><span class="pre">sccd_results</span></code> by default) will contain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">record_change_x</span><span class="p">{</span><span class="n">blockX</span><span class="p">}</span><span class="n">_y</span><span class="p">{</span><span class="n">blockY</span><span class="p">}</span><span class="n">_sccd</span><span class="o">.</span><span class="n">npy</span><span class="p">:</span> <span class="n">Change</span> <span class="n">detection</span> <span class="n">results</span> <span class="n">per</span> <span class="n">block</span>
<span class="n">SCCD_block</span><span class="p">{</span><span class="n">blockID</span><span class="p">}</span><span class="n">_finished</span><span class="o">.</span><span class="n">txt</span><span class="p">:</span> <span class="n">Completion</span> <span class="n">marker</span> <span class="n">files</span>
</pre></div>
</div>
</section>
</section>
<section id="cold-algorithm">
<h3>COLD Algorithm:<a class="headerlink" href="#cold-algorithm" title="Link to this heading">¶</a></h3>
<section id="id5">
<h4>Purpose<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>Detect pixel-level changes using pyxccd’s COLD algorithm.</p>
</section>
<section id="id6">
<h4>Procedure<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<ol class="arabic simple">
<li><p>Complete the stacking process (Step 1)</p></li>
<li><p>Run COLD detection script:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>tile_processing.py<span class="w"> </span>--method<span class="w"> </span>COLD<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--stack_path<span class="w"> </span>/path/to/stack/data<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--result_path<span class="w"> </span>/path/to/cold_results<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--low_datebound<span class="w"> </span><span class="m">2019</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--upper_datebound<span class="w"> </span><span class="m">2024</span>-12-31<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
<p>or S-CCD</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>tile_processing.py<span class="w"> </span>--method<span class="w"> </span>SCCDOFFLINE<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--stack_path<span class="w"> </span>/path/to/stack/data<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--result_path<span class="w"> </span>/path/to/cold_results<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--low_datebound<span class="w"> </span><span class="m">2019</span>-01-01<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--upper_datebound<span class="w"> </span><span class="m">2024</span>-12-31<span class="w"> </span><span class="se">\</span>
<span class="w">                     </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
</section>
<section id="id7">
<h4>Parameters<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">stack_path</span><span class="p">:</span> <span class="n">Stacked</span> <span class="n">data</span> <span class="n">directory</span> <span class="kn">from</span><span class="w"> </span><span class="nn">Step</span> <span class="mi">1</span>
<span class="o">--</span><span class="n">result_parent_path</span><span class="p">:</span> <span class="n">Output</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">COLD</span> <span class="n">results</span>
<span class="p">(</span><span class="n">Other</span> <span class="n">parameters</span> <span class="n">same</span> <span class="k">as</span> <span class="n">Step</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id8">
<h4>Output<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>The output directory (<code class="docutils literal notranslate"><span class="pre">cold_results</span></code> by default) will contain:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">record_change_x</span><span class="p">{</span><span class="n">blockX</span><span class="p">}</span><span class="n">_y</span><span class="p">{</span><span class="n">blockY</span><span class="p">}</span><span class="n">_cold</span><span class="o">.</span><span class="n">npy</span><span class="p">:</span> <span class="n">Change</span> <span class="n">detection</span> <span class="n">results</span> <span class="n">per</span> <span class="n">block</span>
<span class="n">COLD_block</span><span class="p">{</span><span class="n">blockID</span><span class="p">}</span><span class="n">_finished</span><span class="o">.</span><span class="n">txt</span><span class="p">:</span> <span class="n">Completion</span> <span class="n">marker</span> <span class="n">files</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="step-3-disturbance-map-generation">
<h2>Step 3: disturbance map generation<a class="headerlink" href="#step-3-disturbance-map-generation" title="Link to this heading">¶</a></h2>
<section id="id9">
<h3>Purpose<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h3>
<p>Convert change detection results into annual/recent/first disturbance
maps.</p>
</section>
<section id="id10">
<h3>Procedure<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h3>
<ol class="arabic simple">
<li><p>Complete Steps 1-2</p></li>
<li><p>Run disturbance mapping script:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>COLD:
python<span class="w"> </span>export_change_map.py<span class="w"> </span>--source_dir<span class="w"> </span>/path/to/HLS_root_directory/Tile_ID<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--result_path<span class="w"> </span>/path/to/cold_results<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--out_path<span class="w"> </span>/path/to/disturbance_maps<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--method<span class="w"> </span>COLD<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--year_lowbound<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--year_uppbound<span class="w"> </span><span class="m">2024</span><span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
<p>S-CCD:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>export_change_map.py<span class="w"> </span>--source_dir<span class="w"> </span>/path/to/HLS_root_directory/Tile_ID<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--result_path<span class="w"> </span>/path/to/sccd_results<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--out_path<span class="w"> </span>/path/to/disturbance_maps<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--method<span class="w"> </span>SCCDOFFLINE<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--yaml_path<span class="w"> </span>/path/to/config.yaml<span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--year_lowbound<span class="w"> </span><span class="m">2019</span><span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--year_uppbound<span class="w"> </span><span class="m">2024</span><span class="w"> </span><span class="se">\</span>
<span class="w">                               </span>--n_cores<span class="w"> </span><span class="m">16</span>
</pre></div>
</div>
</section>
<section id="id11">
<h3>Parameters<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">source_dir</span><span class="p">:</span> <span class="n">HLS</span> <span class="n">directory</span> <span class="p">(</span><span class="k">for</span> <span class="n">spatial</span> <span class="n">reference</span><span class="p">)</span>
<span class="o">--</span><span class="n">result_path</span><span class="p">:</span> <span class="n">SCCD</span> <span class="ow">or</span> <span class="n">COLD</span> <span class="n">results</span> <span class="n">directory</span>
<span class="o">--</span><span class="n">out_path</span><span class="p">:</span> <span class="n">Output</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">disturbance</span> <span class="n">maps</span>
<span class="o">--</span><span class="n">method</span><span class="p">:</span> <span class="n">SCCDOFFLINE</span> <span class="ow">or</span> <span class="n">COLD</span>
<span class="o">--</span><span class="n">year_lowbound</span><span class="p">:</span> <span class="n">Start</span> <span class="n">year</span>
<span class="o">--</span><span class="n">year_uppbound</span><span class="p">:</span> <span class="n">End</span> <span class="n">year</span>
<span class="o">--</span><span class="n">n_cores</span><span class="p">:</span> <span class="n">The</span> <span class="n">total</span> <span class="n">cores</span> <span class="n">assigned</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>Output<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<p>The output directory (<code class="docutils literal notranslate"><span class="pre">disturbance_maps</span></code> by default) will contain:</p>
<p>S-CCD:</p>
<ol class="arabic simple">
<li><p>{year}_break_map_SCCDOFFLINE.tif: Annual disturbance date and type
map</p></li>
</ol>
<div class="line-block">
<div class="line">Pixel value = disturbance_type × 1000 + day_of_year</div>
<div class="line">Disturbance types (S-CCD):</div>
<div class="line">  1 - Disturbance</div>
<div class="line">  2 - Recovery</div>
</div>
<ol class="arabic simple" start="2">
<li><p>first_disturbance_map_SCCDOFFLINE.tif: First disturbance map (year
of first disturbance)</p></li>
<li><p>recent_disturbance_map_SCCDOFFLINE.tif: Recent disturbance map (year
of latest disturbance)</p></li>
</ol>
<p>COLD:</p>
<ol class="arabic simple">
<li><p>{year}_break_map_COLD.tif: Annual disturbance date and type map</p></li>
</ol>
<div class="line-block">
<div class="line">Pixel value = disturbance_type × 1000 + day_of_year</div>
<div class="line">Disturbance types (COLD):</div>
<div class="line">  1 - Disturbance</div>
<div class="line">  2 - Regrowth   3 - Restoration</div>
</div>
<ol class="arabic simple" start="2">
<li><p>first_disturbance_map_COLD.tif: First disturbance map (year of first
disturbance)</p></li>
<li><p>recent_disturbance_map_COLD.tif: Recent disturbance map (year of
latest disturbance)</p></li>
</ol>
</section>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>For large areas, process tiles in batches to avoid memory overload</p></li>
<li><p>Adjust block size parameters in config_hls.yaml to balance speed and
memory usage</p></li>
<li><p>Interrupted processing can be resumed - the script will skip
completed blocks</p></li>
</ol>
</section>
<section id="result-examples">
<h2>Result examples<a class="headerlink" href="#result-examples" title="Link to this heading">¶</a></h2>
<p>First Disturbance Map (COLD):</p>
<p><img alt="image1" src="_images/cold.png" /></p>
<p>First Disturbance Map (SCCD):</p>
<p><img alt="image2" src="_images/sccd.png" /></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="3_flexible_inputs_crop_sentinel2.html" class="btn btn-neutral float-left" title="Lesson 3: flexible mode" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="5_state_analysis_greenning%26precipitation_coarse.html" class="btn btn-neutral float-right" title="Lesson 5: state analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Su Ye.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>